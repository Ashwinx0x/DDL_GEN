#!/bin/bash
# move_and_rename.sh
# Usage: ./move_and_rename.sh <source_path> <destination_path> <new_filename>

# Exit if any command fails
set -e

# Check if all arguments are provided
if [ "$#" -ne 3 ]; then
    echo "Usage: $0 <source_path> <destination_path> <new_filename>"
    exit 1
fi

# Assign arguments to variables
SOURCE_FILE="$1"
DEST_PATH="$2"
NEW_NAME="$3"

# Check if source file exists
if [ ! -f "$SOURCE_FILE" ]; then
    echo "Error: Source file '$SOURCE_FILE' does not exist."
    exit 1
fi

# Create destination directory if it doesn't exist
mkdir -p "$DEST_PATH"

# Move and rename file
mv "$SOURCE_FILE" "$DEST_PATH/$NEW_NAME"

echo "File moved and renamed successfully:"
echo "→ From: $SOURCE_FILE"
echo "→ To:   $DEST_PATH/$NEW_NAME"
